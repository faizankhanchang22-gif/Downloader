<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>OBITO Downloader</title>
<meta name="description" content="Free All in One Downloader - Instagram, TikTok, Facebook, Twitter & more" />
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Rajdhani:wght@600&display=swap');

* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: 'Rajdhani', sans-serif;
    min-height: 100vh;
    overflow: hidden;
    background: #000;
    color: #fff;
}

#bgVideo {
    position: fixed;
    top:0; left:0;
    width:100vw; height:100vh;
    object-fit: cover;
    z-index: -1;
    display: none;
}

#startBtn {
    position: fixed;
    top:50%; left:50%;
    transform: translate(-50%, -50%);
    padding: 20px 50px;
    font-size: 24px;
    font-weight: bold;
    border:none; border-radius:10px;
    background: #ff4747;
    color:#fff;
    cursor:pointer;
    z-index: 10;
    box-shadow: 0 0 20px rgba(255,0,0,0.7);
}

.container {
    max-width:700px; width:100%;
    text-align:center;
    padding: 20px;
    display:none; /* hidden until start button clicked */
}

h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 4rem;
    background: linear-gradient(90deg, #ff0000, #ff4d4d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 20px 0;
}

.powered { font-size:1.3rem; color:#00ff88; margin-bottom:30px; font-weight:bold; text-shadow:0 0 10px #00ff88; }

input {
    width:90%; padding:18px; font-size:17px;
    border:3px solid #333; border-radius:15px;
    background:#111; color:#fff; margin-bottom:20px;
}
input:focus { border-color:#ff0000; outline:none; }

button.download-btn {
    display: inline-block; background:#ff0000; color:white;
    padding:12px 25px; margin:10px; border-radius:50px;
    text-decoration:none; font-weight:bold;
}

#result {
    margin-top:30px; padding:25px;
    background: rgba(20,20,20,0.9);
    border: 2px solid #333; border-radius:15px;
    display:none; backdrop-filter: blur(10px);
}

footer {
    margin-top:auto; padding:30px; font-size:1.4rem;
    font-weight:bold; color:#ff0000; text-shadow:0 0 10px red;
    display:none;
}
</style>
</head>
<body>

<!-- Start Button -->
<button id="startBtn">Start Website</button>

<!-- Background Video -->
<video id="bgVideo" autoplay loop muted>
    <source src="https://raw.githubusercontent.com/faizankhanchang22-gif/Cossdv/main/VID_20251123_155335_891.mp4" type="video/mp4">
</video>

<!-- Website Content -->
<div class="container" id="mainContent">
    <h1>OBITO DOWNLOADER</h1>
    <div class="powered">Powered by Faizan Baloch</div>
    <input type="text" id="urlInput" placeholder="Paste Instagram, TikTok, FB, Twitter link here..." />
    <br/>
    <button onclick="process()">DOWNLOAD NOW</button>
    <div id="result"></div>
</div>

<footer id="footer">Created by OBITO UCHIHA</footer>

<script>
const startBtn = document.getElementById('startBtn');
const bgVideo = document.getElementById('bgVideo');
const mainContent = document.getElementById('mainContent');
const footer = document.getElementById('footer');

// Start Button Click ‚Üí show video + content
startBtn.addEventListener('click', () => {
    bgVideo.style.display = "block";
    mainContent.style.display = "block";
    footer.style.display = "block";
    bgVideo.muted = false; // unmute after user interaction
    bgVideo.play();
    startBtn.style.display = "none";
});

// Process function ‚Äî API fetch + JSON handling
async function process() {
    const input = document.getElementById('urlInput');
    const result = document.getElementById('result');
    const btn = document.querySelector('button[onclick="process()"]');
    const url = input.value.trim();

    if (!url) return alert("Bhai link daal pehle!");

    btn.disabled = true;
    btn.textContent = "Processing...";
    result.style.display = "none";

    try {
        const api = `https://jawad-tech.vercel.app/downloader?url=${encodeURIComponent(url)}`;
        const res = await fetch(api);
        const data = await res.json();

        if (!data.status) throw new Error(data.error || "Unsupported URL / Private Content");

        let html = `<div class="success">‚úÖ Video Mil Gaya!</div>`;
        if (data.title) html += `<h3>${data.title}</h3>`;
        if (data.thumbnails?.[0]) html += `<img src="${data.thumbnails[0]}" style="max-width:100%; border-radius:15px; margin:15px 0;">`;

        // Handle all URLs from JSON properly
        if (data.urls?.length > 0) {
            data.urls.forEach((link, i) => {
                html += `<a href="${link}" target="_blank" download class="download-btn">üì• DOWNLOAD ${i+1} (HD)</a><br/>`;
            });
        } else {
            html += `<p>No download link found. Make sure it is a public link!</p>`;
        }

        result.innerHTML = html;
    } catch (e) {
        result.innerHTML = `<div class="error">‚ùå Error: ${e.message}<br><br>Tip: Use public link & remove extra parameters!</div>`;
    } finally {
        btn.disabled = false;
        btn.textContent = "DOWNLOAD NOW";
        result.style.display = "block";
    }
}

// Enter key triggers download
document.getElementById('urlInput').addEventListener('keypress', e => {
    if (e.key === 'Enter') process();
});
</script>

</body>
</html>
